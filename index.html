<html>
  <head>
    <!-- CSS helps us design the feel and style of the UI. In this example, we're using Google's Material Design-->

    <!-- Import Google Icon Font -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"></link>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet"></link>


    <!--Optimize Viewport for Mobile Devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Skin Cancer Test</title>
    <style>
    body {
      background-color: #426fb8;
      text-align: center;
      color: black;
      font-family: Arial, Helvetica, sans-serif;
    }
    span {
    display: table;
    margin: 0 auto;
	}
    </style>
  </head>
  <body>

    <nav class= "grey"> <a href="#" style = "color: black;font-weight: bold; margin:0;font-size:30px;">Skin Cancer Diagnosis Tool</a> <form> <div class="input-field right"></div> </form> </nav>

    <div style="padding:5%;">

      <h7>Please upload an image of the area you would like to check for skin cancer (cropping is appreciated!)</h7>
      <br><br>
      <h5 id="loadingmodel" style="font-weight:bold;"">Loading ML Model</h4>
      <div id="progressbar" class="progress">
        <div class="indeterminate"></div>
      </div>
      
      <div class="file-field input-field" style = "margin: auto;">
        <div class="btn blue">
          <span>Select Image<i class="right material-icons">file_upload</i> </span>           
          <input type="file" accept="image/*" onchange="onFileSelected(event)">
        </div>
        <div class="file-path-wrapper">
          <input class="file-path validate" type="text">
        </div>
     </div>
     <img id="image" style = "height:75px; width:100px;"></img>
	 <br>
     <br>
  <a onclick="predict()" class="blue waves-effect waves-light btn-small"><i class="right material-icons">send</i>Classify Image</a>
  
      <h5 style="font-weight:bold;"">Prediction:</h5>
      <b><p id="prediction"></p></b>
      <b><p id="probability"></p></b>
    </div>

     <!-- Import JS Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>
    <script src="static/js/skin_cancer_diagnosis_script.js"></script>

    <!-- Javascript allows us to apply logic to our UI elements and programmatically control the website -->
    <!-- We'll be using Tensorflow JS to perform our model inference -->

    <script>       
      var imgtag = document.getElementById("image")
      var prediction_text = document.getElementById("prediction")
      var probability_text = document.getElementById("probability")

      var progressbar = document.getElementById("progressbar")
      var loadingmodel = document.getElementById("loadingmodel")      
    </script>
  </body>
</html>
